var ee=Object.defineProperty,te=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var J=(t,o,l)=>o in t?ee(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l,H=(t,o)=>{for(var l in o||(o={}))ae.call(o,l)&&J(t,l,o[l]);if(G)for(var l of G(o))ne.call(o,l)&&J(t,l,o[l]);return t},W=(t,o)=>te(t,oe(o));import{r as c,j as q,N as w,a as se,u as F,b as re,O as le,L as C,c as k,R as de,d as E,e as ie,f as ce,B as me}from"./vendor.7a1b9b76.js";const ue=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const u of m.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function l(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerpolicy&&(m.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?m.credentials="include":d.crossorigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(d){if(d.ep)return;d.ep=!0;const m=l(d);fetch(d.href,m)}};ue();const $=c.exports.createContext(),K=()=>c.exports.useContext($);const e=q.exports.jsx,n=q.exports.jsxs,L=q.exports.Fragment,ge=()=>{const{isLoggedIn:t,currentUser:o,removeUser:l}=K(),i=new Date;return n("nav",{className:"NavMain",children:[e(w,{className:"logo",to:"/",children:"MO"}),t&&n(L,{children:[e(w,{className:"menu",to:"/profile",children:o&&o.email}),e(w,{className:"menu",to:`/meals/${i.toISOString()}`,children:"Mes repas"}),e(w,{className:"menu",to:"/foods",children:"Mes Aliments"}),e("div",{className:"navLogout",children:e("button",{onClick:l,children:"D\xE9connexion"})})]}),!t&&e(L,{children:n("div",{className:"navActions",children:[e(w,{to:"/signin",children:"Connexion"}),e(w,{to:"/signup",children:"Inscription"})]})})]})},pe=()=>e("div",{children:e("h1",{children:"Welcome \u{1F3E1}"})}),Q=t=>{const[o,l]=c.exports.useState(t);return[o,d=>{l(W(H({},o),{[d.target.name]:d.target.value}))}]},M=se.create({baseURL:"https://meal-organizer.herokuapp.com",withCredentials:!0});//! Error handling to use in the catch
function U(t){throw t.response.data&&console.log(t.response&&t.response.data),t}const h=W(H({},M),{signup(t){return M.post("/api/auth/signup",t).then(o=>o.data).catch(U)},isLoggedIn(){return M.get("/api/auth/is-loggedin").then(t=>t.data).catch(U)},signin(t){return M.post("/api/auth/signin",t).then(o=>o.data).catch(U)},signout(){return M.get("/api/auth/signout").then(t=>t.data).catch(U)}});const he=()=>{const[{email:t,password:o},l]=Q({email:"",password:""}),[i,d]=c.exports.useState(null),m=F(),{authenticateUser:u}=K(),g=f=>{f.preventDefault(),h.signin({email:t,password:o}).then(D=>{console.log(D),u(),m("/")}).catch(D=>{d(D.response.data)})};return n(L,{children:[i&&e("h3",{className:"error",children:i.message}),n("form",{onSubmit:g,children:[e("h2",{className:"title",children:"Connexion"}),n("div",{className:"form-group",children:[e("label",{htmlFor:"email",children:"Email :"}),e("br",{}),e("input",{className:"form-control",type:"email",id:"email",name:"email",onChange:l,value:t})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"password",children:"Mot de passe :"}),e("br",{}),e("input",{className:"form-control",type:"password",id:"password",name:"password",onChange:l,value:o})]}),e("button",{className:"signInBtn",children:"Connexion"})]})]})},fe=()=>e(he,{}),ve=()=>{const[t,o]=Q({name:"",email:"",password:""}),[l,i]=c.exports.useState(null),d=F(),m=u=>{u.preventDefault(),h.signup(t).then(()=>{d("/signin")}).catch(g=>{i(g.response.data)})};return n(L,{children:[l&&e("h3",{className:"error",children:l.message}),n("form",{onSubmit:m,children:[e("h2",{className:"title",children:"S'inscrire"}),n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Nom :"}),e("br",{}),e("input",{className:"form-control",onChange:o,value:t.name,type:"text",id:"name",name:"name"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"email",children:"Email :"}),e("br",{}),e("input",{className:"form-control",onChange:o,value:t.email,type:"email",id:"email",name:"email"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"password",children:"Mot de passe :"}),e("br",{}),e("input",{className:"form-control",onChange:o,value:t.password,type:"password",id:"password",name:"password"})]}),e("button",{className:"signUpBtn",children:"S'incrire"})]})]})},De=()=>e(ve,{}),ye=()=>e("div",{children:e("p",{children:"This is a protected profile"})}),xe=()=>{const{isLoggedIn:t,isLoading:o}=K();return o?e("p",{children:"Loading..."}):t?e(le,{}):e(re,{to:"/signin"})},Ne=({food:t,viewClbk:o,editClbk:l,deleteClbk:i})=>{var d;return n("div",{className:"box",children:[n("div",{className:"left-items",children:[e("div",{className:"catColor",style:{backgroundColor:(d=t.category)==null?void 0:d.color}}),e("span",{className:"food",children:t.name})]}),n("div",{className:"actionBtn",children:[e("span",{children:e(C,{to:`/foods/food/view/${t._id}`,children:e("i",{className:"fa-solid fa-eye"})})}),e("span",{children:e(C,{to:`/foods/food/edit/${t._id}`,children:e("i",{className:"fa-solid fa-pencil"})})}),e("span",{children:e("i",{id:t._id,className:"fa-solid fa-trash-can",onClick:i})})]})]},t._id)};const Se=()=>{const[t,o]=c.exports.useState([]);c.exports.useEffect(()=>{console.log("component mounted"),h.get("/foods").then(({data:i})=>{console.log("foods - apiRes.data >>>",i),o(i)})},[]);const l=i=>{h.delete(`/foods/food/${i.target.id}`).then(d=>{o(t.filter(m=>m._id!==i.target.id))})};return n("div",{className:"container",children:[n("h2",{children:["Tous mes Aliments"," ",e("span",{className:"addFood",children:e(C,{to:"/foods/food/new",children:e("i",{className:"fa-solid fa-plus"})})})]}),t&&t.map(i=>e(Ne,{food:i,viewClbk:!0,editClbk:!0,deleteClbk:l},i._id))]})},Ee=()=>e("div",{children:e("h1",{children:"Display One Food"})}),be=({action:t})=>{const[o,l]=c.exports.useState(""),[i,d]=c.exports.useState(null),[m,u]=c.exports.useState(""),[g,f]=c.exports.useState([]),D=F();return c.exports.useEffect(()=>{h.get("/foods/categories").then(r=>{console.log("response :>> ",r),f(r.data)})},[]),n("div",{children:[e("h2",{className:"title",children:"Cr\xE9er un Aliment"}),n("form",{className:"form",onSubmit:r=>{r.preventDefault();const x={name:o,category:i,description:m};h.post("/foods/food",x).then(p=>{console.log("response :>> ",p),D("/foods")}).catch(p=>console.error(p))},children:[n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Nom :"}),e("br",{}),e("input",{className:"form-control",type:"text",name:"name",id:"name",value:o,onChange:r=>l(r.target.value)})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"category",children:"Cat\xE9gorie :"}),e("br",{}),n("select",{className:"form-control",name:"category",id:"category",onChange:r=>d(r.target.value),children:[e("option",{value:"-1",disabled:!0,selected:!0,children:"Selectionnez une cat\xE9gorie"}),g&&g.map(r=>e("option",{value:r._id,children:r.name},r._id))]})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"description",children:"Description :"}),e("br",{}),e("textarea",{className:"form-control",name:"description",id:"description",value:m,onChange:r=>u(r.target.value),cols:"70",rows:"5"})]}),e("button",{className:"createAFoodBtn",children:"Cr\xE9er l'Aliment"})]})]})},Fe=()=>{const[t,o]=c.exports.useState(""),[l,i]=c.exports.useState(""),[d,m]=c.exports.useState(""),[u,g]=c.exports.useState([]),{id:f}=k(),D=F();c.exports.useEffect(()=>{h.get("/foods/categories").then(r=>{console.log("response :>> ",r),g(r.data)})},[]),c.exports.useEffect(()=>{h.get(`/foods/food/${f}`).then(r=>{console.log("response :>>",r.data),o(r.data.name),i(r.data.category._id),m(r.data.description)})},[]);const y=r=>{r.preventDefault();const x={name:t,category:l,description:d};h.patch(`/foods/food/${f}`,x).then(p=>{console.log("response :>> ",p),D("/foods")}).catch(p=>console.error(p))};return n("form",{children:[e("h2",{children:"Editer l'aliment"}),n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Nom :"}),e("br",{}),e("input",{type:"text",name:"name",id:"name",className:"form-control",value:t,onChange:r=>o(r.target.value)})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Cat\xE9gorie :"}),e("br",{}),e("select",{name:"category",id:"category",value:l,onChange:r=>i(r.target.value),children:u&&u.map(r=>e("option",{value:r._id,children:r.name},r._id))})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Description :"}),e("br",{}),e("textarea",{className:"form-control",name:"description",id:"description",value:d,onChange:r=>m(r.target.value),cols:"70",rows:"5"})]}),e("button",{className:"editFoodFormBtn",onClick:y,children:"Mettre \xE0 jour l'aliment"})]})},V=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function we(t){const o=t.toISOString().slice(0,10);return new Date(o)}function Ce(t){const o=t.slice(0,10);return new Date(o)}function B(t){let o;if(typeof t=="string")o=Ce(t);else if(t instanceof Date)o=we(t);else return-1;const l=o.getDay(),i=(V.indexOf("Monday")-l-V.length)%V.length;let d=new Date(o);return d.setDate(o.getDate()+i),d}function _e(t){const o=[],l=B(t);o.push(l);for(let i=1;i<7;i++){let d=new Date(l);d.setDate(l.getDate()+i),o.push(d)}return console.log("weekDates",o),o}function Ie(t){const o=B(t),l={previous:null,next:null};let i=new Date(o);i.setDate(o.getDate()-7),l.previous=i;let d=new Date(o);return d.setDate(o.getDate()+7),l.next=d,console.log("navDates",l),l}const Le=({dayDate:t,meals:o,deleteClbk:l})=>{console.log("--- Day");const i=F();console.log("dayDate :>> ",t),console.log("dayDate.toISOString() :>> ",t.toISOString());const d=t.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});console.log("dayDateForDisplay :>> ",d),console.log("meals :>> ",o);const m=u=>{const g=u.target.id;console.log("handleAddMeal - mealDate :>> ",g),i(`/meals/meal/new/${g}`)};return n("div",{className:"day-container",children:[n("div",{className:"day-title",children:[e("h4",{children:d}),e("i",{id:t.toISOString(),className:"fa-solid fa-plus",onClick:m})]}),e("div",{className:"day-meals",children:o&&o.map((u,g)=>e(L,{children:n("div",{className:"meal-card",children:[n("div",{className:"meal-card-title",children:[e("h5",{children:u.type.name}),n("div",{className:"meal-card-btn actionBtn",children:[e("span",{children:e(C,{to:`/meals/meal/edit/${u._id}`,children:e("i",{className:"fa-solid fa-pencil"})})}),e("span",{children:e("i",{id:u._id,className:"fa-solid fa-trash-can",onClick:l})})]})]}),u.foods&&u.foods.map((f,D)=>e("div",{className:"meal-food",children:e("span",{children:f.name})},`${f._id}_${g}_${D}`))]},u._id)}))})]})},X=()=>{console.log("--- Meals");let t;const o=k();if(o==null?void 0:o.date)console.log("params.date :>> ",o.date),t=B(o.date);else{console.log("params :>> ",o);const y=new Date;console.log("today :>> ",y),t=B(y)}const l=Ie(t),i=_e(t),d=t.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});console.log("mondayDate :>> ",t);const[m,u]=c.exports.useState([]),[g,f]=c.exports.useState(!1);c.exports.useEffect(()=>{console.log("===== Meals mounted, call to apiHandler"),h.get(`/meals/${t.toISOString()}`).then(({data:y})=>{console.log("*********************"),console.log("*********************"),console.log("*********************"),console.log("*********************"),console.log("*********************"),console.log("dbMeals - data :>> ",y),y.forEach(r=>r.sort((x,p)=>x.type.position-p.type.position)),u(y)})},[o.date,g]);const D=y=>{const r=y.target.id;console.log("handleDeleteMeal - mealId :>> ",r),h.delete(`/meals/meal/${r}`).then(x=>{console.log("response.data :>> ",x.data),u(m.filter(p=>p._id!==r)),f(!g)})};return n("div",{children:[n("h2",{children:["Semaine du ",d]}),n("div",{className:"meal-week-nav",children:[e(C,{to:`/meals/${l.previous.toISOString()}`,children:"Semaine pr\xE9c\xE9dente"}),e(C,{to:`/meals/${l.next.toISOString()}`,children:"Semaine suivante"})]}),e("div",{className:"meal-week",children:m&&i.map((y,r)=>e(Le,{dayDate:y,meals:m[r],deleteClbk:D},r))})]})};const Me=()=>{const{mealDate:t}=k();console.log("--- CreateMealForm - mealDate :>> ",t);const[o,l]=c.exports.useState([]),[i,d]=c.exports.useState([]);console.log("dbFoods[0] :>> ",i[0]);const[m,u]=c.exports.useState(""),[g,f]=c.exports.useState([]),[D,y]=c.exports.useState(new Date(t.slice(0,10))),[r,x]=c.exports.useState([]),[p,b]=c.exports.useState(null),_=F(),I=c.exports.useContext($),{currentUser:T}=I;console.log("currentUser :>> ",T.currentUser._id);const A=D.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});console.log("mealDateForDisplay :>> ",A),c.exports.useEffect(()=>{h.get("/meals/mealtypes").then(({data:s})=>{console.log("mealtypes - apiRes.data :>> ",s),l(s)})},[]),c.exports.useEffect(()=>{h.get("/foods").then(({data:s})=>{console.log("dbFoods - apiRes.data :>> ",s),d(s)})},[g,r]);const O=s=>{console.log("--- handleDragStart - e.target :>> ",s.target),console.log("dragStart: dropEffect = ",s.dataTransfer.dropEffect),console.log("dragStart: effectAllowed = ",s.dataTransfer.effectAllowed),s.dataTransfer.setData("id",s.target.id),s.dataTransfer.effectAllowed="copy"},R=s=>(console.log("dragOver: dropEffect = ",s.dataTransfer.dropEffect),console.log("dragOver: effectAllowed = ",s.dataTransfer.effectAllowed),s.preventDefault&&s.preventDefault(),s.dataTransfer.dropEffect="copy",!1),j=s=>{console.log("--- handleDrop - e.target :>> ",s.target),b(null),s.target.parentElement.classList.toggle("over"),console.log("drop: dropEffect = ",s.dataTransfer.dropEffect),console.log("drop: effectAllowed = ",s.dataTransfer.effectAllowed),console.log("foods :>> ",g),s.preventDefault(),s.stopPropagation(),s.dataTransfer.dropEffect="copy";const N=s.dataTransfer.getData("id");return s.dataTransfer.dropEffect="copy",console.log("foodId :>> ",N),console.log("document.getElementById(foodId) :>> ",document.getElementById(N)),g.includes(N)?b({type:"warn",text:"Cet aliment a d\xE9j\xE0 \xE9t\xE9 ajout\xE9"}):(document.getElementById(N).innerHTML,f([...g,N]),h.get(`/foods/food/${N}`).then(({data:a})=>{x([...r,a])})),!1},P=s=>{console.log("--- handleDeleteFoodFromMeal"),s.preventDefault(),console.log("addedFoods :>> ",r);const N=s.target.parentElement.id.split("_")[1],a=g.filter(S=>S!=N);f(a);const v=r.filter(S=>S._id!=N);x(v)};return n("form",{onSubmit:s=>{console.log("--- handleSubmit - e.target :>> ",s.target),s.preventDefault();const N={type:m,foods:g,user:T.currentUser._id,date:D};console.log("meal :>> ",N),h.post("/meals/meal",N).then(a=>{console.log("response :>> ",a),_(`/meals/${t}`)}).catch(a=>{console.error(a),b({type:"error",text:"Erreur, veuillez v\xE9rifier le repas et r\xE9essayer."})})},children:[e("h2",{children:"Cr\xE9ation de repas"}),p&&e("div",{className:`msg ${p.type}`,children:e("span",{children:p.text})}),n("div",{className:"form-content-div",children:[n("div",{className:"meal-date",children:[e("label",{htmlFor:"date",children:"Date : "}),e("span",{children:A})]}),n("div",{className:"meal-type",children:[e("label",{htmlFor:"type",children:"Type de repas : "}),e("select",{name:"type",id:"type",value:m,onChange:s=>u(s.target.value),children:o&&o.map(s=>n("option",{value:s._id,children:[s.name," - ",s.timeslot]},s._id))})]}),n("div",{className:"dnd-action-div",children:[n("div",{className:"meal-drag-div",children:[e("h3",{children:"Tous les aliments :"}),e("div",{children:i&&i.map(s=>e("div",{id:s._id,value:s._id,className:"draggable-food",draggable:"true",onDragStart:O,children:s.name},s._id))})]}),e("div",{className:"meal-drop-div",children:n("div",{children:[e("h3",{children:"Aliments du repas :"}),n("div",{name:"foods",id:"foods",value:g,className:"drop-zone",droppable:"true",onDragEnter:s=>s.target.parentElement.classList.toggle("over"),onDragLeave:s=>s.target.parentElement.classList.toggle("over"),onDragOver:R,onDrop:j,children:[e("div",{children:"D\xE9poser ici les aliments souhait\xE9s :"},"-1"),r&&r.map(s=>n("div",{id:`added_${s._id}`,value:s._id,className:"added-food",children:[e("span",{children:s.name}),e("button",{onClick:P,children:"Supprimer"})]},`added_${s._id}`))]})]})})]})]}),e("button",{children:"Ok"})]})},Te=()=>{const{mealId:t}=k();console.log("--- EditMealForm - mealId :>> ",t);const[o,l]=c.exports.useState([]),[i,d]=c.exports.useState([]);console.log("dbFoods[0] :>> ",i[0]);const[m,u]=c.exports.useState(""),[g,f]=c.exports.useState([]),[D,y]=c.exports.useState(null),[r,x]=c.exports.useState(""),[p,b]=c.exports.useState([]),[_,I]=c.exports.useState(null),T=F(),A=c.exports.useContext($),{currentUser:O}=A;console.log("currentUser :>> ",O.currentUser._id);const R=new Date(r).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});console.log("mealDateForDisplay :>> ",R),console.log("******** dateTemp :>> ",r),c.exports.useEffect(()=>{h.get(`/meals/meal/${t}`).then(({data:a})=>{console.log("============"),console.log("MEAL TO EDIT - data :>> ",a),console.log("data.date :>> ",a.date),console.log("type Date ???",a.date instanceof Date),console.log("typeof ???",typeof a.date),u(a.type._id),y(new Date(a.date.slice(0,10))),x(a.date.slice(0,10));const v=a.foods?a.foods.map(S=>S._id):[];console.log("foodIdsArray :>> ",v),f(v),b(a.foods)})},[]),c.exports.useEffect(()=>{h.get("/meals/mealtypes").then(({data:a})=>{console.log("mealtypes - apiRes.data :>> ",a),l(a)})},[]),c.exports.useEffect(()=>{h.get("/foods").then(({data:a})=>{console.log("dbFoods - apiRes.data :>> ",a),d(a)})},[g,p]);const j=a=>{console.log("--- handleDragStart - e.target :>> ",a.target),console.log("dragStart: dropEffect = ",a.dataTransfer.dropEffect),console.log("dragStart: effectAllowed = ",a.dataTransfer.effectAllowed),a.dataTransfer.setData("id",a.target.id),a.dataTransfer.effectAllowed="copy"},P=a=>(console.log("dragOver: dropEffect = ",a.dataTransfer.dropEffect),console.log("dragOver: effectAllowed = ",a.dataTransfer.effectAllowed),a.preventDefault&&a.preventDefault(),a.dataTransfer.dropEffect="copy",!1),Y=a=>{console.log("--- handleDrop - e.target :>> ",a.target),I(null),a.target.parentElement.classList.toggle("over"),console.log("drop: dropEffect = ",a.dataTransfer.dropEffect),console.log("drop: effectAllowed = ",a.dataTransfer.effectAllowed),console.log("foods :>> ",g),a.preventDefault(),a.stopPropagation(),a.dataTransfer.dropEffect="copy";const v=a.dataTransfer.getData("id");return a.dataTransfer.dropEffect="copy",console.log("foodId :>> ",v),console.log("document.getElementById(foodId) :>> ",document.getElementById(v)),g.includes(v)?I({type:"warn",text:"Cet aliment a d\xE9j\xE0 \xE9t\xE9 ajout\xE9"}):(document.getElementById(v).innerHTML,f([...g,v]),h.get(`/foods/food/${v}`).then(({data:S})=>{b([...p,S])})),!1},s=a=>{console.log("--- handleDeleteFoodFromMeal"),a.preventDefault(),console.log("addedFoods :>> ",p);const v=a.target.parentElement.id.split("_")[1],S=g.filter(z=>z!=v);f(S);const Z=p.filter(z=>z._id!=v);b(Z)};return n("form",{onSubmit:a=>{console.log("--- handleSubmit - e.target :>> ",a.target),a.preventDefault();const v={type:m,foods:g,user:O.currentUser._id,date:new Date(r)};console.log("meal :>> ",v),h.patch(`/meals/meal/${t}`,v).then(S=>{console.log("response :>> ",S),T(`/meals/${new Date(D).toISOString()}`)}).catch(S=>{console.error(S),I({type:"error",text:"Erreur, veuillez v\xE9rifier le repas et r\xE9essayer."})})},children:[e("h2",{children:"Modification de repas"}),_&&e("div",{className:`msg ${_.type}`,children:e("span",{children:_.text})}),n("div",{className:"form-content-div",children:[n("div",{className:"meal-date",children:[e("label",{htmlFor:"date",children:"Date : "}),e("input",{type:"date",name:"date",id:"date",value:r,onChange:a=>x(a.target.value)})]}),n("div",{className:"meal-type",children:[e("label",{htmlFor:"type",children:"Type de repas : "}),e("select",{name:"type",id:"type",value:m,onChange:a=>u(a.target.value),children:o&&o.map(a=>n("option",{value:a._id,children:[a.name," - ",a.timeslot]},a._id))})]}),n("div",{className:"dnd-action-div",children:[n("div",{className:"meal-drag-div",children:[e("h3",{children:"Tous les aliments :"}),e("div",{children:i&&i.map(a=>e("div",{id:a._id,value:a._id,className:"draggable-food",draggable:"true",onDragStart:j,children:a.name},a._id))})]}),e("div",{className:"meal-drop-div",children:n("div",{children:[e("h3",{children:"Aliments du repas :"}),n("div",{name:"foods",id:"foods",value:g,className:"drop-zone",droppable:"true",onDragEnter:a=>a.target.parentElement.classList.toggle("over"),onDragLeave:a=>a.target.parentElement.classList.toggle("over"),onDragOver:P,onDrop:Y,children:[e("div",{children:"D\xE9poser ici les aliments souhait\xE9s :"},"-1"),p&&p.map(a=>n("div",{id:`added_${a._id}`,value:a._id,className:"added-food",children:[e("span",{children:a.name}),e("button",{onClick:s,children:"Supprimer"})]},`added_${a._id}`))]})]})})]})]}),e("button",{children:"Ok"})]})};function Ae(){return n("div",{className:"App",children:[e(ge,{}),n(de,{children:[e(E,{path:"/",element:e(pe,{})}),e(E,{path:"/signin",element:e(fe,{})}),e(E,{path:"/signup",element:e(De,{})}),n(E,{element:e(xe,{}),children:[e(E,{path:"/meals",element:e(X,{})}),e(E,{path:"/meals/:date",element:e(X,{})}),e(E,{path:"/meals/meal/new/:mealDate",element:e(Me,{})}),e(E,{path:"/meals/meal/edit/:mealId",element:e(Te,{})}),e(E,{path:"/foods",element:e(Se,{})}),e(E,{path:"/foods/food/view/:id",element:e(Ee,{})}),e(E,{path:"/foods/food/new",element:e(be,{})}),e(E,{path:"/foods/food/edit/:id",element:e(Fe,{})}),e(E,{path:"/profile",element:e(ye,{})})]})]})]})}const Oe=({children:t})=>{const[o,l]=c.exports.useState({currentUser:null,isLoading:!0,isLoggedIn:!1});c.exports.useEffect(()=>{i()},[]);const i=()=>{h.isLoggedIn().then(u=>{l({currentUser:u,isLoading:!1,isLoggedIn:!0})}).catch(u=>{console.error(u),l({currentUser:null,isLoading:!1,isLoggedIn:!1})})},d=()=>{h.signout().finally(()=>l({currentUser:null,isLoading:!1,isLoggedIn:!1}))},m={currentUser:o.currentUser,isLoading:o.isLoading,isLoggedIn:o.isLoggedIn,removeUser:d,authenticateUser:i};return e($.Provider,{value:m,children:t})};ie.render(e(ce.StrictMode,{children:e(me,{children:e(Oe,{children:e(Ae,{})})})}),document.getElementById("root"));
